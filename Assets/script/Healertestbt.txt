tree("Root")
    repeat
        fallback
            tree("Approach")
            tree("IdentifyWound")
            tree("FindIngredients")
            tree("CreatePotion")
            tree("DeliverPotion")
            tree("ReturnPokebot")
            tree("Idle")

tree("Idle")
    sequence
        Display("No customers, Time to Idle")
        Idle
        fallback
            IsIdle
            Succeed

tree("Approach")
    sequence
        Approach
        fallback
                sequence
                    IsKeyDown("Y")
                    Display("Please follow me.")
                    StartInteract
                sequence
                    IsKeyDown("N")
                    Display("Please enjoy the exhibits.")
        sequence
            fallback
                not EndInteract
            Display("No response received.")

tree("IdentifyWound")
    sequence
        IdentifyWound
        fallback
            IsPokebotSeated
            Succeed

tree("FindIngredients")
    sequence
        FindIngredients
        fallback
            AreAllIngredientsFound
            Succeed

tree("CreatePotion")
    sequence
        CreatePotion
        fallback
            IsPotionCreated
            Succeed

tree("DeliverPotion")
    sequence
        DeliverPotion
        fallback
            PotionDelivered
            Wait(2.0)
            Succeed

tree("ReturnPokebot")
    sequence
        ReturnPokebot
        fallback
            IsPokebotGivenBack
            Succeed